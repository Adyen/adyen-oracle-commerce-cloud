{"version":3,"file":"adyen-checkout.min.js","sources":["constants/index.js","utils/spinner.js","utils/ajax.js","utils/redirectAuth.js","utils/getOrderPayload.js","utils/events.js","utils/getInstallmentOptions.js","utils/checkout.js","utils/modal.js","utils/createError.js","utils/date.js","utils/hideLoaders.js","components/component.js","components/order.js","components/payment.js","components/store.js","components/boleto/index.js","components/card/index.js","components/local/index.js","adyen-checkout.js"],"sourcesContent":["export const baseAPIUrl = '/ccstorex/custom/adyen/v1'\nexport const channels = { preview: 'preview', storefront: 'storefront' }\nexport const errorMessages = {\n    paymentRefused: 'paymentRefused',\n    installmentsConfiguration: 'installmentsConfiguration',\n    failed3dsValidation: 'failed3dsValidation',\n}\nexport const paymentMethodTypes = {\n    generic: 'generic',\n    invoice: 'invoice',\n    local: 'local',\n}\nexport const adyenUrl = env => `https://checkoutshopper-${env.toLowerCase()}.adyen.com`\nexport const adyenCssUrl = env => `${adyenUrl(env)}/checkoutshopper/sdk/3.3.0/adyen.css`\nexport const adyenCheckoutComponentUrl = env => `${adyenUrl(env)}/checkoutshopper/sdk/3.3.0/adyen.js`\n\nexport const locale = 'locale'\nexport const countries = {\n    brazil: { locale: 'pt_br', currency: 'brl' },\n    mexico: { locale: 'es_mx', currency: 'mxn' },\n}\nexport const brazilEnabled = 'brazilEnabled'\nexport const comboCards = { debit: 'debitCard', credit: 'creditCard' }\nexport const bins = { electron: 'electron', maestro: 'maestro' }\nexport const storage = { paymentData: 'AdyenPaymentData', order: 'AdyenOrder' }\nexport const noInstallmentsMsg = 'noInstallmentsMsg'\n\nexport const render = 'render'\nexport const id = 'id'\nexport const order = 'order'\nexport const checkout = {\n    card: 'checkoutCard',\n    boleto: 'checkoutBoleto',\n    local: 'checkoutLocal',\n}\nexport const isLoaded = 'isLoaded'\nexport const ajax = 'ajax'\nexport const originKey = 'originKey'\nexport const installments = 'installments'\nexport const cart = 'cart'\nexport const setPayment = 'setPayment'\nexport const initialOrderCreated = 'initialOrderCreated'\nexport const pageChanged = 'pageChanged'\nexport const installmentsEnabled = 'installmentsEnabled'\nexport const isAllowedCountryForInstallments = 'isAllowedCountryForInstallments'\nexport const environment = 'environment'\nexport const selectedBrand = 'selectedBrand'\nexport const selectedComboCard = 'selectedComboCard'\nexport const installmentsOptions = 'installmentOptions'\nexport const storedPaymentType = 'storedPaymentType'\nexport const paymentMethodsResponse = 'paymentMethodsResponse'\nexport const translate = 'translate'\nexport const isPaymentStored = 'isPaymentStored'\nexport const paymentDetails = 'paymentDetails'\nexport const selectedInstallment = 'selectedInstallment'\nexport const comboCardOptions = 'comboCardOptions'\nexport const genericPayment = 'genericPayment'\nexport const isDone = 'isDone'\nexport const isValid = 'isValid'\nexport const pageParams = 'pageParams'\nexport const presentToShopper = 'PresentToShopper'\nexport const orderPayload = 'orderPayload'\nexport const boleto = {\n    paymentMethod: 'boleto',\n    enabled: 'boletoEnabled',\n    deliveryDate: 'boletoDeliveryDate',\n    shopperStatement: 'boletoShopperStatement',\n}\nexport const localPaymentMethods = 'localPaymentMethods'\n","import spinner from 'spinner'\nimport $ from 'jquery'\n\nexport const createSpinner = () => {\n    const indicatorOptions = {\n        parent: '#loadingModal',\n        posTop: '20%',\n        posLeft: '50%',\n        loadingText: 'Loading',\n    }\n    $('#loadingModal').removeClass('hide')\n    $('#loadingModal').show()\n    spinner.create(indicatorOptions)\n}\n\nexport const destroySpinner = () => {\n    $('#loadingModal').hide()\n    spinner.destroy()\n}\n","import $ from 'jquery'\nimport { baseAPIUrl, channels } from '../constants'\n\nconst getData = (method, body) => method === 'post' && { data: { json: JSON.stringify(body) } }\nexport default isPreview => {\n    return (path, cb, { body, method } = { body: '', method: 'get' }) => {\n        const data = getData(method, body)\n        $.ajax({\n            url: `${baseAPIUrl}/${path}`,\n            method,\n            headers: {\n                'x-oracle-cc-webhook-signature': 'ABC123',\n                channel: isPreview ? channels.preview : channels.storefront,\n            },\n            success: cb,\n            ...data,\n        })\n    }\n}\n","import storageApi from 'storageApi'\nimport * as constants from '../constants'\nimport { store } from '../components'\nimport { createFromAction } from './index'\n\nexport default ({ order, customPaymentProperties }, cb) => {\n    const checkoutCard = store.get(constants.checkout.card)\n    const isAuthRedirect = 'paymentData' in customPaymentProperties\n    const redirect = () => {\n        const action = {\n            action: customPaymentProperties,\n            selector: '#adyen-card-payment',\n            checkoutComponent: checkoutCard,\n        }\n\n        const instance = storageApi.getInstance()\n        instance.setItem(constants.storage.paymentData, customPaymentProperties.paymentData)\n        instance.setItem(constants.storage.order, JSON.stringify(order))\n\n        createFromAction(action)\n    }\n\n    isAuthRedirect ? redirect() : cb(order)\n}\n","export default function getOrderPayload(order) {\n    const { shippingAddress: shippingAddressFn, billingAddress: billingAddressFn, cart, payments } = order()\n\n    const { billingAddress, shippingAddress, id, orderProfileId, shippingMethod, shoppingCart } = order().order()\n\n    return {\n        billingAddress: {\n            ...billingAddressFn(),\n            ...billingAddress,\n        },\n        combineLineItems: cart().combineLineItems,\n        op: 'initiate',\n        id,\n        payments: payments(),\n        profileId: orderProfileId,\n        shippingAddress: {\n            ...shippingAddressFn(),\n            ...shippingAddress,\n        },\n        shippingMethod,\n        shoppingCart,\n    }\n}\n","import $ from 'jquery'\n\nclass Emitter {\n    store = {\n        emit: (key, value) => $.Topic('store').publish(key, value),\n        listen: cb => $.Topic('store').subscribe(cb),\n    }\n\n    _ev = suffix => ({\n        emit: (event, ...args) => $.Topic(`${suffix}-${event}`).publish(...args),\n        on: (event, cb) => $.Topic(`${suffix}-${event}`).subscribe(cb),\n    })\n\n    emit = (key, ...args) => $.Topic(key).publish(...args)\n\n    payment = this._ev('payment')\n    order = this._ev('order')\n    component = this._ev('component')\n\n    on = (event, cb) => $.Topic(event).subscribe(cb)\n}\n\nexport default new Emitter()\n","const creditCards = [\n    { id: 1, name: 'Amex', code: 'amex' },\n    // {id: \"argencard\", name: \"Argencard\"},\n    // {id: \"bcmc\", name: \"Bancontact/Mister Cash\"},\n    // {id: \"bijcard\", name: \"de Bijenkorf Card\"},\n    // {id: \"cabal\", name: \"Cabal\"},\n    // {id: \"cartebancaire\", name: \"Carte Bancaires\"},\n    // {id: \"codensa\", name: \"Codensa\"},\n    // {id: \"cup\", name: \"China Union Pay\"},\n    // {id: \"dankort\", name: \"Dankort\"},\n    // {id: \"diners\", name: \"Diners Club\"},\n    // {id: \"discover\", name: \"Discover\"},\n    { id: 2, name: 'ELO', code: 'elo' },\n    // {id: \"forbrugsforeningen\", name: \"Forbrugsforeningen\"},\n    { id: 4, name: 'HiperCard', code: 'hiper' },\n    { id: 4, name: 'HiperCard', code: 'hipercard' },\n    // {id: \"jcb\", name: \"JCB\"},\n    // {id: \"karenmillen\", name: \"Karen Millen GiftCard\"},\n    // {id: \"laser\", name: \"Laser\"},\n    // {id: \"maestro\", name: \"Maestro\"},\n    // {id: \"maestrouk\", name: \"Maestro UK\"},\n    { id: 8, name: 'Mastercard', code: 'mc' },\n    // {id: \"mcalphabankbonus\", name: \"Alpha Bank Mastercard Bonus\"},\n    // {id: \"mir\", name: \"MIR\"},\n    // {id: \"naranja\", name: \"Naranja\"},\n    // {id: \"oasis\", name: \"Oasis GiftCard\"},\n    // {id: \"shopping\", name: \"Tarjeta Shopping\"},\n    // {id: \"solo\", name: \"Solo\"},\n    // {id: \"troy\", name: \"Troy\"},\n    // {id: \"uatp\", name: \"UATP\"},\n    { id: 16, name: 'Visa', code: 'visa' },\n    // {id: \"visaalphabankbonus\", name: \"Alpha Bank Visa Bonus\"},\n    // {id: \"visadankort\", name: \"Visa Dankort\"},\n    // {id: \"warehouse\", name: \"Warehouse GiftCard\"},\n]\n\nconst isAllowedCreditCard = (creditCard, creditCardSum) => (parseInt(creditCardSum) & creditCard.id) !== 0\nconst checkSum = (creditCard, creditCardSum) => creditCard && isAllowedCreditCard(creditCard, creditCardSum)\nconst checkAmount = (amount, amountRange) => amount >= amountRange\nconst validate = (hasValidSum, isValidAmount) => hasValidSum && isValidAmount\n\nfunction getInstallmentOptions(installmentsOptions, amount, brand) {\n    const creditCard = creditCards.find(({ code }) => brand === code)\n    const createInstallmentsObj = item => {\n        const [amountRange, numberOfInstallments, creditCardSum] = item\n        const hasValidSum = checkSum(creditCard, creditCardSum)\n        const isValidAmount = checkAmount(amount, amountRange)\n        const isValid = validate(hasValidSum, isValidAmount)\n\n        return isValid && { numberOfInstallments }\n    }\n\n    return installmentsOptions.map(createInstallmentsObj, []).filter(valid => valid)\n}\n\nexport default getInstallmentOptions\n","import ccConstants from 'ccConstants'\nimport { store } from '../components'\nimport * as constants from '../constants'\nimport { eventEmitter } from './index'\n\nexport const getDefaultConfig = () => {\n    const environment = store.get(constants.environment)\n    const locale = store.get(constants.locale)\n    const originKey = store.get(constants.originKey)\n    const paymentMethodsResponse = store.get(constants.paymentMethodsResponse)\n\n    return {\n        showPayButton: true,\n        locale,\n        environment: environment.toLowerCase(),\n        originKey,\n        paymentMethodsResponse,\n    }\n}\n\nexport const createFromAction = ({ action, selector, checkoutComponent }) => {\n    checkoutComponent.createFromAction(action).mount(selector)\n}\n\nclass Checkout {\n    constructor(type) {\n        this.type = type\n    }\n\n    createCheckout = ({ configuration, selector, type, options = {} }, cb) => {\n        const defaultConfiguration = getDefaultConfig()\n        // eslint-disable-next-line no-undef\n        const checkout = new AdyenCheckout({ ...defaultConfiguration, ...configuration })\n        checkout.create(type, options).mount(selector)\n\n        cb(checkout)\n    }\n\n    onSubmit = () => () => {\n        const loader = document.querySelector(`#adyen-${this.type}-wrapper .loader-wrapper`)\n        loader && loader.classList.toggle('hide', false)\n\n        const order = store.get(constants.order)\n        eventEmitter.payment.emit(constants.setPayment, this.type)\n\n        order().id(null)\n        order().op(ccConstants.ORDER_OP_INITIATE)\n        order().handlePlaceOrder()\n    }\n\n    onChange = options => (state, component) => {\n        const paymentDetails = store.get(constants.paymentDetails)\n        const isValid = component.isValid && typeof state.data === 'object'\n        eventEmitter.store.emit(constants.isValid, isValid)\n\n        const payload = { ...paymentDetails, [this.type]: { ...state.data, ...options } }\n\n        eventEmitter.store.emit(constants.paymentDetails, payload)\n    }\n}\n\nexport default Checkout\n","import { store } from '../components'\nimport * as constants from '../constants'\n\nexport const createPresentToShopperModal = cb => {\n    const node = document.createElement('div')\n    node.setAttribute(\n        'style',\n        'display: flex;justify-content: center;align-content: center;top: 0;position: fixed;z-index: 999;' +\n            'align-items: center;'\n    )\n\n    const wrapper = document.createElement('div')\n    wrapper.setAttribute('style', 'height: 100vh; width: 100vw; background-color: #a4a4a494; z-index: 999;')\n    wrapper.setAttribute('id', 'present-shopper-wrapper')\n\n    const modal = document.createElement('div')\n    modal.setAttribute('id', 'present-shopper')\n    modal.setAttribute('style', 'z-index: 9999;position: absolute;')\n\n    const clickEvent = () => {\n        wrapper.removeEventListener('click', clickEvent)\n        node.remove()\n    }\n\n    wrapper.addEventListener('click', clickEvent)\n\n    const environment = store.get(constants.environment)\n\n    node.innerHTML = `<link \n        rel=\"stylesheet\" \n        href=\"https://checkoutshopper-${environment}.adyen.com/checkoutshopper/sdk/3.2.0/adyen.css\" \n        />`\n\n    node.appendChild(modal)\n    node.appendChild(wrapper)\n\n    document.body.appendChild(node)\n    cb(node)\n}\n","import notifier from 'notifier'\nimport navigation from 'navigation'\nimport { destroySpinner } from './spinner'\n\nconst createError = (options, preserveUrl = false) => () => {\n    'redirectLink' in options && navigation.goTo(options.redirectLink, preserveUrl)\n    destroySpinner()\n    notifier.sendError('adyen', 'The payment is REFUSED.', true)\n}\n\nexport default createError\n","export const addDays = days => new Date().setDate(new Date().getDate() + days)\n","const hideLoaders = () => {\n    const toggleElementAttribute = el => el.classList.toggle('hide', true)\n    document.querySelectorAll('.loader-wrapper').forEach(toggleElementAttribute)\n}\n\nexport default hideLoaders\n","import $ from 'jquery'\nimport * as constants from '../constants'\nimport { eventEmitter } from '../utils'\nimport { createBoletoCheckout, createCardCheckout, createLocalPaymentCheckout, store } from './index'\n\nclass Component {\n    constructor() {\n        this.startEventListeners()\n    }\n\n    startEventListeners = () => {\n        eventEmitter.component.on(constants.render, this.render)\n        eventEmitter.component.on(constants.comboCardOptions, this.getComboCardOptions)\n    }\n\n    getBrand = (brands, brand) => {\n        const result = brand in brands ? brands[store.get(constants.selectedBrand)] : store.get(constants.selectedBrand)\n        eventEmitter.store.emit(constants.selectedBrand, result)\n        return result\n    }\n\n    getComboCardOptions = () => {\n        const brands = { visa: constants.bins.electron, mc: constants.bins.maestro }\n        const selectedComboCard = store.get(constants.selectedComboCard)()\n        const isDebitCard = selectedComboCard === constants.comboCards.debit\n        const brand = store.get(constants.selectedBrand)\n        const selectedBrand = this.getBrand(brands, brand)\n\n        const options = { selectedBrand, additionalData: { overwriteBrand: true } }\n\n        eventEmitter.store.emit(constants.comboCardOptions, isDebitCard ? options : {})\n    }\n\n    getOriginKeysSuccessResponse = originKeysRes => {\n        const { origin } = window.location\n        const cart = store.get(constants.cart)\n        const { amount, currencyCode } = cart()\n\n        eventEmitter.store.emit(constants.originKey, originKeysRes.originKeys[origin])\n        store.get(constants.ajax)('paymentMethods', this.getPaymentMethods, {\n            method: 'post',\n            body: { amount: { currency: currencyCode(), value: amount() } },\n        })\n    }\n\n    render = () => {\n        const environment = store.get(constants.environment)\n        const href = constants.adyenCssUrl(environment)\n        const cssLink = `<link rel=\"stylesheet\" href=\"${href}\" />`\n        $('head').append(cssLink)\n\n        store.get(constants.ajax)('originKeys', this.getOriginKeysSuccessResponse)\n    }\n\n    getPaymentMethods = paymentMethodsResponse => {\n        eventEmitter.store.emit(constants.paymentMethodsResponse, paymentMethodsResponse)\n        const environment = store.get(constants.environment)\n        const url = constants.adyenCheckoutComponentUrl(environment)\n\n        const createComponents = () => {\n            createCardCheckout()\n            createLocalPaymentCheckout(paymentMethodsResponse)\n            createBoletoCheckout(paymentMethodsResponse)\n        }\n\n        $.getScript(url, createComponents)\n    }\n}\n\nexport default Component\n","import $ from 'jquery'\nimport ccRestClient from 'ccRestClient'\nimport ccConstants from 'ccConstants'\nimport storageApi from 'storageApi'\nimport pubsub from 'pubsub'\nimport { redirectAuth, createSpinner, getOrderPayload, eventEmitter } from '../utils'\nimport * as constants from '../constants'\nimport { store } from './index'\n\nclass Order {\n    constructor() {\n        this.instance = storageApi.getInstance()\n\n        this.startEventListeners()\n    }\n\n    startEventListeners = () => {\n        eventEmitter.order.on(constants.pageChanged, this.getUrlParametersAndCreateOrder)\n        eventEmitter.order.on(constants.initialOrderCreated, this.initialOrderCreated)\n    }\n\n    initialOrderCreated = orderEvent => {\n        const order = store.get(constants.order)\n        const { customPaymentProperties } = orderEvent.order.payments[0]\n        const { data, resultCode } = customPaymentProperties\n\n        const payload = { order: getOrderPayload(order), customPaymentProperties: JSON.parse(data), resultCode }\n\n        eventEmitter.store.emit(constants.orderPayload, payload)\n        const isDone = store.get(constants.isDone)\n        !isDone() && redirectAuth(payload, this.createOrder)\n    }\n\n    getAndCreatOrder = result => {\n        result.paymentData = this.instance.getItem(constants.storage.paymentData)\n\n        const payment = { type: 'generic', customProperties: result }\n\n        this.recreateOrder(payment)\n    }\n\n    createOrder = orderPayload => {\n        const orderFail = ({ message = 'Failed to create order' } = {}) => {\n            $.Topic(pubsub.topicNames.ORDER_SUBMISSION_FAIL).publish({ message: 'fail', errorMessage: message })\n        }\n\n        const completeOrder = ({ id, uuid }) => {\n            eventEmitter.store.emit(constants.isDone, true)\n            const publishData = { message: 'success', id, uuid }\n            $.Topic(pubsub.topicNames.ORDER_COMPLETED).publish(publishData)\n            $.Topic(pubsub.topicNames.ORDER_SUBMISSION_SUCCESS).publish([publishData])\n        }\n\n        const submitOrder = data => {\n            const orderIsCompleted = orderPayload.op === 'complete'\n            const completedPayload = { ...orderPayload, op: 'complete' }\n            return orderIsCompleted ? completeOrder(data) : this.createOrder(completedPayload)\n        }\n\n        const orderSuccess = data => {\n            const { paymentState, message } = data.payments[0]\n            const { PAYMENT_GROUP_STATE_AUTHORIZED, PAYMENT_GROUP_STATE_INITIAL } = ccConstants\n            const validPaymentGroups = [PAYMENT_GROUP_STATE_AUTHORIZED, PAYMENT_GROUP_STATE_INITIAL]\n            const isValid = validPaymentGroups.includes(paymentState)\n            return isValid ? submitOrder(data) : orderFail({ message, data })\n        }\n\n        ccRestClient.request(ccConstants.ENDPOINT_ORDERS_CREATE_ORDER, orderPayload, orderSuccess, orderFail)\n    }\n\n    recreateOrder = paymentData => {\n        const storedOrder = JSON.parse(this.instance.getItem(constants.storage.order))\n        storedOrder.payments = [paymentData]\n\n        this.createOrder(storedOrder)\n    }\n\n    getResult = urlParameters => {\n        const params = urlParameters.split('&')\n        const formatResult = (acc, param) => {\n            const [key, value] = param.split('=')\n            return { ...acc, [key]: decodeURIComponent(value) }\n        }\n\n        return params.reduce(formatResult, {})\n    }\n\n    getUrlParametersAndCreateOrder = pageData => {\n        const order = store.get(constants.order)\n        const { parameters } = pageData\n\n        if (parameters) {\n            createSpinner()\n\n            const parametersObj = this.getResult(parameters)\n\n            this.cleanPaymentGatewayType(order)\n            this.setAction(parametersObj)\n        }\n    }\n\n    cleanPaymentGatewayType = order => {\n        if (order().paymentGateway()) {\n            order().paymentGateway().type = ''\n        }\n    }\n\n    setAction(parametersObj) {\n        this.isAction = this.hasParameters(parametersObj)\n        this.isAction && this.getAndCreatOrder(parametersObj)\n    }\n    checkIf3ds = parametersObj => 'PaRes' in parametersObj && 'MD' in parametersObj\n    checkIfLocal = parametersObj => 'payload' in parametersObj\n    hasParameters = parametersObj => {\n        const is3DS = this.checkIf3ds(parametersObj)\n        const isLocal = this.checkIfLocal(parametersObj)\n        const hasDetails = is3DS || isLocal\n        return hasDetails\n    }\n}\n\nexport default Order\n","import * as constants from '../constants'\nimport { eventEmitter } from '../utils'\nimport { store } from './index'\n\nclass Payment {\n    constructor() {\n        this.startEventListeners()\n    }\n\n    startEventListeners = () => {\n        eventEmitter.payment.on(constants.setPayment, this.setPayment)\n    }\n\n    setPayment = type => {\n        const order = store.get(constants.order)\n        const id = store.get(constants.id)\n\n        const genericPayment = store.get(constants.genericPayment)\n        const updatedGenericPayment = { ...genericPayment, id: id() }\n\n        eventEmitter.store.emit(constants.genericPayment, updatedGenericPayment)\n        eventEmitter.component.emit(constants.comboCardOptions)\n\n        const payments = [updatedGenericPayment]\n\n        order().updatePayments(payments)\n\n        this.updatePayment(this.createPayment(type))\n    }\n\n    updatePayment = pPayment => {\n        const order = store.get(constants.order)\n        const id = store.get(constants.id)\n\n        const payments = order().payments()\n        const checkId = (curId, id) => curId && curId === id()\n        const setPayments = (payment, index) => {\n            const curPayment = payments[index]\n            const { id: curId } = curPayment\n            const isSameId = checkId(curId, id)\n            return isSameId ? pPayment : curPayment\n        }\n\n        const newPayments = payments.map(setPayments)\n        order().payments(newPayments)\n    }\n\n    updatePaymentMethodType = (type, paymentDetails) => {\n        const selectedComboCard = store.get(constants.selectedComboCard)()\n        const isDebitCard = selectedComboCard === constants.comboCards.debit\n        const brand = store.get(constants.selectedBrand)\n        const isGeneric = type === constants.paymentMethodTypes.generic\n        const isComboCard = isGeneric && isDebitCard\n\n        const payload = {\n            ...paymentDetails,\n            paymentMethod: {\n                ...paymentDetails.paymentMethod,\n                ...(isComboCard && { type: brand }),\n            },\n        }\n        return payload\n    }\n\n    createPayment = type => {\n        const storedPaymentType = store.get(constants.storedPaymentType)\n        const isPaymentStored = store.get(constants.isPaymentStored)\n        const paymentDetails = store.get(constants.paymentDetails)\n        const selectedInstallment = store.get(constants.selectedInstallment)\n        const selectedComboCard = store.get(constants.selectedComboCard)\n        const comboCardOptions = store.get(constants.comboCardOptions)\n\n        const hasInstallments = this.checkSelectedInstallment(selectedInstallment)\n\n        const isCreditCard = selectedComboCard() === constants.comboCards.credit\n        const isValid = this.validateInstallment(hasInstallments, isCreditCard)\n\n        const storedPayment = this.getStoredPayment(isPaymentStored, storedPaymentType)\n        const numberOfInstallments = this.getInstallments(isValid, selectedInstallment)\n\n        const genericPayment = store.get(constants.genericPayment)\n        const updatedPaymentDetails = this.updatePaymentMethodType(type, paymentDetails[type])\n\n        const customProperties = {\n            paymentDetails: updatedPaymentDetails,\n            storedPayment,\n            ...(numberOfInstallments && { numberOfInstallments }),\n            ...comboCardOptions,\n        }\n        const updatedGenericPayment = { ...genericPayment, customProperties }\n\n        return updatedGenericPayment\n    }\n\n    checkSelectedInstallment = selectedInstallment =>\n        selectedInstallment() && 'numberOfInstallments' in selectedInstallment()\n    getInstallments = (isValid, selectedInstallment) => isValid && parseInt(selectedInstallment().numberOfInstallments)\n    validateInstallment = (hasInstallments, isCreditCard) => hasInstallments && isCreditCard\n    getStoredPayment = (isPaymentStored, storedPaymentType) => (isPaymentStored ? storedPaymentType() : '')\n}\n\nexport default Payment\n","import ko from 'knockout'\nimport { comboCards, noInstallmentsMsg, countries } from '../constants'\nimport { ajax, eventEmitter } from '../utils'\nimport { Component, Order, Payment } from './index'\n\nclass Store {\n    constructor() {\n        this.startEventListeners()\n    }\n\n    brazilEnabled = false\n\n    storedPaymentType = ko.observable('')\n    environment = undefined\n    pageParams = undefined\n\n    // Component\n    component = new Component()\n    checkout = undefined\n    originKey = ''\n    isValid = false\n    selectedBrand = undefined\n    creditCard = comboCards.credit\n    debitCard = comboCards.debit\n    comboCards = ko.observable([comboCards.credit, comboCards.debit])\n    comboCardOptions = {}\n    selectedComboCard = ko.observable(comboCards.credit)\n    isPaymentStored = ko.observable(false)\n    paymentMethodsResponse = undefined\n    paymentDetails = undefined\n    isLoaded = ko.observable(false)\n    installments = ko.observable([])\n    selectedInstallment = ko.observable({})\n    installmentsAllowedCountries = [countries.mexico.locale, countries.brazil.locale]\n    installmentsOptions = []\n\n    // Payment\n    paymentComponent = new Payment()\n    genericPayment = { type: 'generic' }\n\n    // Order\n    orderComponent = new Order()\n    isDone = ko.observable(false)\n\n    // Boleto\n    boletoEnabled = ko.observable(false)\n    boletoDeliveryDate = ''\n    boletoShopperStatement = ''\n\n    // Local\n    checkoutLocal = ko.observable([])\n    localPaymentMethods = ko.observableArray()\n\n    get installmentsEnabled() {\n        const hasInstallments = !!this.installments().length\n        const cardIsCredit = this.selectedComboCard() === comboCards.credit\n        return ko.observable(this.isAllowedCountryForInstallments && hasInstallments && cardIsCredit)\n    }\n\n    get isAllowedCountryForInstallments() {\n        return this.installmentsAllowedCountries.includes(this.locale.toLowerCase())\n    }\n\n    startEventListeners = () => {\n        eventEmitter.store.listen((key, value) => {\n            if (typeof this[key] === 'function') {\n                this[key](value)\n            } else {\n                this[key] = value\n            }\n        })\n    }\n\n    get = key => (this.has(key) ? this[key] : undefined)\n\n    has = key => key in this\n\n    init = viewModel => {\n        this.id = viewModel.id\n        this.order = viewModel.order\n        this.cart = viewModel.cart\n        this.ajax = ajax(viewModel.isPreview())\n        this.translate = viewModel.translate\n        this.locale = viewModel.locale()\n        this.noInstallmentsMsg = viewModel.translate(noInstallmentsMsg)\n    }\n}\n\nexport default new Store()\n","import * as constants from '../../constants'\nimport { addDays, Checkout, createPresentToShopperModal, eventEmitter, createFromAction } from '../../utils'\nimport { store } from '../index'\n\nconst { boleto } = constants\nconst { deliveryDate, shopperStatement } = boleto\n\nconst setField = (data, field) => data && eventEmitter.store.emit(field, data)\nconst setDeliveryDate = boletoDeliveryDate => setField(boletoDeliveryDate, deliveryDate)\nconst setShopperStatement = boletoShopperStatement => setField(boletoShopperStatement, shopperStatement)\n\nexport const setBoletoConfig = ({ boletoDeliveryDate, boletoShopperStatement }) => {\n    setDeliveryDate(boletoDeliveryDate)\n    setShopperStatement(boletoShopperStatement)\n}\n\nexport const presentToShopper = customPaymentProperties => {\n    const checkoutBoleto = store.get(constants.checkout.boleto)\n    const options = { action: customPaymentProperties, selector: '#present-shopper', checkoutComponent: checkoutBoleto }\n\n    const runAction = () => createFromAction(options)\n    createPresentToShopperModal(runAction)\n}\n\nconst setComponent = checkout => eventEmitter.store.emit(constants.checkout.boleto, checkout)\n\nconst createBoletoCheckout = ({ paymentMethods }) => {\n    const hasBoleto = paymentMethods.some(({ type }) => type.includes(boleto.paymentMethod))\n    eventEmitter.store.emit(constants.boleto.enabled, hasBoleto)\n\n    if (hasBoleto) {\n        const checkout = new Checkout(constants.paymentMethodTypes.invoice)\n        const onChange = checkout.onChange({\n            deliveryDate: addDays(store.get(constants.boleto.deliveryDate)),\n            shopperStatement: store.get(constants.boleto.shopperStatement),\n        })\n\n        const onSubmit = checkout.onSubmit()\n\n        const configuration = { onSubmit, onChange }\n        const order = store.get(constants.order)\n\n        const address = order().billingAddress()\n\n        const shopperName = { firstName: address.firstName(), lastName: address.lastName() }\n        const billingAddress = {\n            city: address.city(),\n            country: address.selectedCountry(),\n            // houseNumberOrName:\"952\",\n            postalCode: address.postalCode(),\n            stateOrProvince: address.selectedState(),\n            street: address.address1(),\n        }\n\n        const showEmailAddress = true\n        const options = { showEmailAddress, data: { shopperName, billingAddress } }\n        const checkoutOptions = { configuration, selector: '#adyen-boleto-payment', type: 'boletobancario', options }\n\n        checkout.createCheckout(checkoutOptions, setComponent)\n    }\n}\n\nexport default createBoletoCheckout\n","import { store } from '../index'\nimport * as constants from '../../constants'\nimport { Checkout, eventEmitter, getInstallmentOptions } from '../../utils'\n\nexport const onBrand = ({ brand }) => {\n    eventEmitter.store.emit(constants.selectedBrand, brand)\n    const installmentsOptions = store.get(constants.installmentsOptions)\n    const cart = store.get(constants.cart)\n    const amount = cart().amount()\n    const installments = installmentsOptions ? getInstallmentOptions(installmentsOptions, amount, brand) : []\n\n    eventEmitter.store.emit(constants.installments, installments)\n}\n\nexport const onConfigSuccess = () => eventEmitter.store.emit(constants.isLoaded, true)\n\nconst createCardCheckout = () => {\n    const checkout = new Checkout(constants.paymentMethodTypes.generic)\n    const onChange = checkout.onChange()\n    const onSubmit = checkout.onSubmit()\n\n    const storedPaymentType = store.get(constants.storedPaymentType)\n    const options = { hasHolderName: false, enableStoreDetails: !!storedPaymentType() }\n\n    const configuration = { onBrand, onConfigSuccess, onChange, onSubmit }\n    const checkoutOptions = { configuration, selector: '#adyen-card-payment', type: 'card', options }\n\n    checkout.createCheckout(checkoutOptions, checkout => {\n        eventEmitter.store.emit(constants.checkout.card, checkout)\n    })\n}\n\nexport default createCardCheckout\n","import * as constants from '../../constants'\nimport { Checkout, eventEmitter } from '../../utils'\n\nconst unsupportedTypes = ['wechatpayWeb', 'scheme', 'boleto', 'boletobancario']\nconst createValidator = paymentMethod => {\n    return {\n        // eslint-disable-next-line complexity\n        validate: (key, value) => {\n            const hasType = 'type' in paymentMethod\n            const isValidType = hasType && !unsupportedTypes.includes(paymentMethod.type)\n            const hasDetails = isValidType && 'details' in paymentMethod\n            const hasOneItem = hasDetails && paymentMethod.details.length === 1\n            const detail = hasOneItem && paymentMethod.details[0]\n            const keyIsIssuerAndTypeIsSelect = detail && detail[key] === value\n            const isValid = !hasDetails || keyIsIssuerAndTypeIsSelect\n            return isValidType && isValid\n        },\n    }\n}\n\nconst isLocalPaymentMethod = paymentMethod => {\n    const { validate } = createValidator(paymentMethod)\n    const keyIsIssuer = validate('key', 'issuer')\n    const typeIsSelect = validate('type', 'select')\n    const isLocal = keyIsIssuer && typeIsSelect\n\n    return isLocal\n}\n\nconst createLocalCheckout = (acc, localPaymentMethod) => {\n    const { type } = localPaymentMethod\n    const checkout = new Checkout(type)\n    const onChange = checkout.onChange()\n    const onSubmit = checkout.onSubmit()\n\n    const configuration = { onSubmit, onChange, showPayButton: true }\n\n    const checkoutOptions = type => ({ configuration, selector: `#adyen-${type}-payment`, type })\n    checkout.createCheckout(checkoutOptions(type), checkout => ({ ...acc, [type]: checkout }))\n}\n\nconst createLocalPaymentCheckout = ({ paymentMethods }) => {\n    const localPaymentMethods = paymentMethods.filter(isLocalPaymentMethod)\n    eventEmitter.store.emit(constants.localPaymentMethods, localPaymentMethods)\n    const localPaymentMethodsCheckout = localPaymentMethods.reduce(createLocalCheckout, {})\n\n    eventEmitter.store.emit(constants.checkout.local, localPaymentMethodsCheckout)\n}\n\nexport default createLocalPaymentCheckout\n","import pubsub from 'pubsub'\nimport notifier from 'notifier'\nimport $ from 'jquery'\nimport { store } from './components'\nimport { createSpinner, destroySpinner, eventEmitter, hideLoaders } from './utils'\nimport createError from './utils/createError'\nimport * as constants from './constants'\nimport { presentToShopper, setBoletoConfig } from './components'\n\nclass ViewModel {\n    store = store\n\n    setGatewaySettings = ({\n        installmentsOptionsId,\n        environment,\n        storedPayment,\n        boletoDeliveryDate,\n        boletoShopperStatement,\n    }) => {\n        eventEmitter.store.emit(constants.environment, environment)\n\n        store.get(constants.isAllowedCountryForInstallments) && this.setInstallments(installmentsOptionsId)\n        eventEmitter.store.emit(constants.storedPaymentType, storedPayment)\n\n        setBoletoConfig({ boletoDeliveryDate: Number(boletoDeliveryDate), boletoShopperStatement })\n    }\n\n    setSiteSettings = () => {\n        this.setSiteCountryAndCurrency()\n\n        const { AdyenGenericGateway } = this.site().extensionSiteSettings\n        this.setGatewaySettings(AdyenGenericGateway)\n    }\n\n    setInstallments = installmentsOptions => {\n        try {\n            eventEmitter.store.emit(constants.installmentsOptions, JSON.parse(installmentsOptions))\n        } catch (e) {\n            const translate = store.get(constants.translate)\n            const { installmentsConfiguration } = constants.errorMessages\n            const errMsg = translate(installmentsConfiguration)\n            notifier.sendError('installments', errMsg, true)\n        }\n    }\n\n    setSiteCountryAndCurrency = () => {\n        const { brazil } = constants.countries\n        const { currency, locale } = brazil\n\n        const siteLocale = store.get(constants.locale).toLowerCase()\n        const currencyCode = this.cart().currencyCode()\n        const localeIsBr = locale === siteLocale\n        const curIsBr = currencyCode.toLowerCase() === currency\n\n        eventEmitter.store.emit(constants.brazilEnabled, localeIsBr && curIsBr)\n    }\n\n    handlePageChanged = pageData => {\n        const isCheckout = pageData.pageId === 'checkout'\n        isCheckout && eventEmitter.order.emit(constants.pageChanged, pageData)\n    }\n\n    beforeAppear = () => {\n        this.reset()\n    }\n\n    onLoad = widget => {\n        store.init(widget)\n        Object.assign(this, widget, { store })\n\n        this.setSiteSettings()\n        this.subscribeToTopics()\n    }\n\n    onRender = () => {\n        eventEmitter.component.emit(constants.render)\n    }\n\n    reset = () => {\n        eventEmitter.store.emit(constants.installments, [])\n    }\n\n    presentToShopper = () => {\n        const { resultCode, customPaymentProperties } = store.get(constants.orderPayload)\n        const isPresentToShopper = resultCode === constants.presentToShopper\n        isPresentToShopper && presentToShopper(customPaymentProperties)\n    }\n    orderSubmitted = () => store.has(constants.orderPayload) && this.presentToShopper()\n\n    subscribeToTopics = () => {\n        const {\n            ORDER_CREATED_INITIAL,\n            ORDER_CREATE,\n            ORDER_SUBMISSION_FAIL,\n            ORDER_COMPLETED,\n            ORDER_CREATED,\n            PAGE_CHANGED,\n            ORDER_SUBMISSION_SUCCESS,\n            NOTIFICATION_ADD,\n        } = pubsub.topicNames\n\n        const emitInitialOrder = ev => {\n            eventEmitter.order.emit(constants.initialOrderCreated, ev)\n        }\n        $.Topic(ORDER_CREATED_INITIAL).subscribe(emitInitialOrder)\n        $.Topic(ORDER_CREATE).subscribe(createSpinner)\n\n        const redirectLink = this.order().checkoutLink\n        const errorCallback = createError({ redirectLink })\n\n        $.Topic(ORDER_SUBMISSION_FAIL).subscribe(errorCallback)\n        $.Topic(ORDER_COMPLETED).subscribe(destroySpinner)\n        $.Topic(ORDER_CREATED).subscribe(this.reset)\n        $.Topic(PAGE_CHANGED).subscribe(this.handlePageChanged)\n        $.Topic(ORDER_SUBMISSION_SUCCESS).subscribe(this.orderSubmitted)\n\n        $.Topic(NOTIFICATION_ADD).subscribe(hideLoaders)\n    }\n}\n\nconst vm = new ViewModel()\nexport default vm\n"],"names":["baseAPIUrl","channels","preview","storefront","errorMessages","paymentRefused","installmentsConfiguration","failed3dsValidation","paymentMethodTypes","generic","invoice","local","adyenUrl","env","toLowerCase","adyenCssUrl","adyenCheckoutComponentUrl","locale","countries","brazil","currency","mexico","brazilEnabled","comboCards","debit","credit","bins","electron","maestro","storage","paymentData","order","noInstallmentsMsg","render","id","checkout","card","boleto","isLoaded","ajax","originKey","installments","cart","setPayment","initialOrderCreated","pageChanged","isAllowedCountryForInstallments","environment","selectedBrand","selectedComboCard","installmentsOptions","storedPaymentType","paymentMethodsResponse","translate","isPaymentStored","paymentDetails","selectedInstallment","comboCardOptions","genericPayment","isDone","isValid","presentToShopper","orderPayload","paymentMethod","enabled","deliveryDate","shopperStatement","localPaymentMethods","createSpinner","indicatorOptions","parent","posTop","posLeft","loadingText","$","removeClass","show","spinner","create","destroySpinner","hide","destroy","getData","method","body","data","json","JSON","stringify","isPreview","path","cb","url","headers","channel","success","customPaymentProperties","checkoutCard","store","get","constants","isAuthRedirect","redirect","action","selector","checkoutComponent","instance","storageApi","getInstance","setItem","createFromAction","getOrderPayload","shippingAddressFn","shippingAddress","billingAddressFn","billingAddress","payments","orderProfileId","shippingMethod","shoppingCart","combineLineItems","op","profileId","Emitter","emit","key","value","Topic","publish","listen","subscribe","suffix","event","args","on","_ev","creditCards","name","code","isAllowedCreditCard","creditCard","creditCardSum","parseInt","checkSum","checkAmount","amount","amountRange","validate","hasValidSum","isValidAmount","getInstallmentOptions","brand","find","createInstallmentsObj","item","numberOfInstallments","map","filter","valid","getDefaultConfig","showPayButton","mount","Checkout","type","configuration","options","defaultConfiguration","AdyenCheckout","loader","document","querySelector","classList","toggle","eventEmitter","payment","ccConstants","ORDER_OP_INITIATE","handlePlaceOrder","state","component","payload","createPresentToShopperModal","node","createElement","setAttribute","wrapper","modal","clickEvent","removeEventListener","remove","addEventListener","innerHTML","appendChild","createError","preserveUrl","navigation","goTo","redirectLink","notifier","sendError","addDays","days","Date","setDate","getDate","hideLoaders","toggleElementAttribute","el","querySelectorAll","forEach","Component","getComboCardOptions","brands","result","visa","mc","isDebitCard","getBrand","additionalData","overwriteBrand","originKeysRes","origin","window","location","currencyCode","originKeys","getPaymentMethods","href","cssLink","append","getOriginKeysSuccessResponse","createComponents","createCardCheckout","createLocalPaymentCheckout","createBoletoCheckout","getScript","startEventListeners","Order","getUrlParametersAndCreateOrder","orderEvent","resultCode","parse","redirectAuth","createOrder","getItem","customProperties","recreateOrder","orderFail","message","pubsub","topicNames","ORDER_SUBMISSION_FAIL","errorMessage","completeOrder","uuid","publishData","ORDER_COMPLETED","ORDER_SUBMISSION_SUCCESS","submitOrder","orderIsCompleted","completedPayload","orderSuccess","paymentState","PAYMENT_GROUP_STATE_AUTHORIZED","PAYMENT_GROUP_STATE_INITIAL","validPaymentGroups","includes","ccRestClient","request","ENDPOINT_ORDERS_CREATE_ORDER","storedOrder","urlParameters","params","split","formatResult","acc","param","decodeURIComponent","reduce","pageData","parameters","parametersObj","getResult","cleanPaymentGatewayType","setAction","paymentGateway","is3DS","checkIf3ds","isLocal","checkIfLocal","hasDetails","isAction","hasParameters","getAndCreatOrder","Payment","updatedGenericPayment","updatePayments","updatePayment","createPayment","pPayment","checkId","curId","setPayments","index","curPayment","isSameId","newPayments","isGeneric","isComboCard","hasInstallments","checkSelectedInstallment","isCreditCard","validateInstallment","storedPayment","getStoredPayment","getInstallments","updatedPaymentDetails","updatePaymentMethodType","Store","ko","observable","undefined","observableArray","has","viewModel","length","cardIsCredit","installmentsAllowedCountries","setField","field","setDeliveryDate","boletoDeliveryDate","setShopperStatement","boletoShopperStatement","setBoletoConfig","checkoutBoleto","runAction","setComponent","paymentMethods","hasBoleto","some","onChange","onSubmit","address","shopperName","firstName","lastName","city","country","selectedCountry","postalCode","stateOrProvince","selectedState","street","address1","showEmailAddress","checkoutOptions","createCheckout","onBrand","onConfigSuccess","hasHolderName","enableStoreDetails","unsupportedTypes","createValidator","hasType","isValidType","hasOneItem","details","detail","keyIsIssuerAndTypeIsSelect","isLocalPaymentMethod","keyIsIssuer","typeIsSelect","createLocalCheckout","localPaymentMethod","localPaymentMethodsCheckout","ViewModel","installmentsOptionsId","setInstallments","Number","setSiteCountryAndCurrency","AdyenGenericGateway","site","extensionSiteSettings","setGatewaySettings","e","errMsg","siteLocale","localeIsBr","curIsBr","isCheckout","pageId","reset","widget","init","Object","assign","setSiteSettings","subscribeToTopics","isPresentToShopper","ORDER_CREATED_INITIAL","ORDER_CREATE","ORDER_CREATED","PAGE_CHANGED","NOTIFICATION_ADD","emitInitialOrder","ev","checkoutLink","errorCallback","handlePageChanged","orderSubmitted","vm"],"mappings":"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"}